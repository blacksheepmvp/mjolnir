# Mjolnir v0.2.5h Specification
Final Polish Before Release

## 1. MainActivity Copy Tweaks
- Rename “Initialize Mjolnir Home” → “Home Setup”.
- No behavioral change; only update user-facing text.

## 2. Steam Section Consolidation
### 2.1 Replace three Steam buttons with a single entry point
- Add one button: “Create Steam Files”.
- Remove the three individual file-gen buttons.

### 2.2 Click behavior
When tapped:
1. Ensure the Steam folder is configured.
    - If missing: launch existing folder picker, then continue.
2. Show a dialog with three actions:
    - SteamDB.info → Launch existing SteamDB file generator activity.
    - Custom → Launch manual file generator activity.
    - Edit Steam Folder → Launch folder picker again.

## 3. Home Mode Label Alignment (Advanced / Basic / Off)
### 3.1 MainActivity Button
- Replace “Home Enabled/Disabled” with:
    - Home: Advanced
    - Home: Basic
    - Home: Off
- Behaviors remain identical; only update text to match mode.

### 3.2 Quick Settings Tile
- Update tile text to reflect:
    - Advanced
    - Basic
    - Off

### 3.3 Persistent Notification
- Update status text to the same one-word modes.

## 4. Onboarding Back-Stack Fix
- In OnboardingActivity:
    - Back should pop the navigation stack if possible.
    - If at the entry screen (root), pressing back immediately exits onboarding.
- Prevents the “empty blue wall” state from appearing.

## 5. App Blacklist Access in App Picker
- Add a button or entry point inside the app picker UI:
    - “Manage App Blacklist”
- Opens existing blacklist UI or a simple selector dialog.
- No semantic changes to blacklist behavior.

## 6. Gesture Settings: System Double-Tap Delay
- Re-add UI controls in the Advanced Gesture Setup screen:
    - Use system delay (ties to useSystemDelay = true)
    - Custom delay (useSystemDelay = false, show delay selector)
- Bind to existing prefs and service behavior.

## 7. Focus-Lock Hack Behavior (Clarified)
- Do not add or remove any parameters or toggles.
- Simply default the existing focus-lock parameter to true automatically when:
    - Only one of the two home slots is configured, and
    - The active home target is TOP.
- No UI changes. No behavioral changes outside this condition.

## 8. MainActivity Info Bubble (“What’s New”)
- Add a bottom-center info bubble on MainActivity (mirroring onboarding style).
- When tapped:
    - Show dialog:
        - “What’s new in this version”
        - Short static list for v0.2.5
        - A “Support on Ko-fi” button linking out.

## 9. New Preference: Last Seen Version
- Add SharedPreferences key:
    - KEY_LAST_SEEN_VERSION
- Update with the current version at app start or onboarding completion.
- No behavioral use yet; this sets the foundation for future release-diff features.

I have reviewed the v0.2.5h specification provided by ChatGPT. It is clear and aligns well with the codebase I've explored so far.Feedback on the Spec:1.MainActivity Tweaks & Steam Consolidation: Simple and straightforward. Consolidating the Steam buttons into a dialog flow is a good UX improvement.2.Mode Labels: This is a smart unification. We'll need to ensure the logic for determining "Advanced" vs "Basic" matches what we established in the Onboarding flow (Advanced = Interception Active, Basic = Interception Inactive but Mjolnir is Default Home).3.Onboarding Back-Stack: Essential fix. The "blue wall" is likely OnboardingActivity finishing its content but not the Activity itself.4.App Blacklist: Adding this to the picker makes sense.5.Double-Tap Delay: Re-integrating this into AdvancedGestureScreen is necessary as we lost it.6.Focus-Lock: The logic condition is specific (Single Top Home). I will ensure this logic resides in the service or helper that handles focus stealing, not just the UI.7.Info Bubble & Version Pref: Low-risk additions that add polish.Action Plan:I will implement these changes sequentially, starting with the MainActivity UI updates, as they are the most visible changes.Step 1: Update MainActivity UI (Points 1, 2, 3, 8)•Modify MainActivity.kt to:◦Rename "Initialize Mjolnir Home" button.◦Replace the 3 Steam buttons with "Create Steam Files" and add the dialog logic.◦Update the "Home Enabled" button text logic.◦Add the "What's New" info bubble.Step 2: Update Onboarding Back Stack (Point 4)•Modify OnboardingActivity.kt to handle the back press correctly at the root destination.Step 3: Update App Picker & Gestures (Points 5, 6)•Modify BasicScreens.kt (or SharedUI if reused) to add the Blacklist button.•Modify AdvancedScreens.kt to add the Double-Tap Delay controls.Step 4: Service & Tile Logic (Points 3, 7, 9)•Update KeepAliveService and the Quick Settings Tile to use the new "Advanced/Basic/Off" nomenclature.•Implement the Focus-Lock default logic.•Add the KEY_LAST_SEEN_VERSION save logic.